class <%= metadata.className %> < Formula
  desc "<%= metadata.description %>"
  homepage "<%= metadata.homepage %>"
  version "<%= metadata.version %>"
  license "<%= metadata.license %>"

  if OS.linux? && Hardware::CPU.intel?
    url "<%= tarFiles.linuxIntel.url %>"
    sha256 "<%= tarFiles.linuxIntel.sha256 %>"
  end
  if OS.mac? && Hardware::CPU.arm?
    url "<%= tarFiles.macArm.url %>"
    sha256 "<%= tarFiles.macArm.sha256 %>"
  end
  if OS.mac? && Hardware::CPU.intel?
    url "<%= tarFiles.macIntel.url %>"
    sha256 "<%= tarFiles.macIntel.sha256 %>"
  end

  def install
    bin.install "<%= metadata.binaryName %>"
    bash_completion.install "completions/bash/<%= metadata.binaryName %>"
    fish_completion.install "completions/fish/<%= metadata.binaryName %>.fish"
    zsh_completion.install "completions/zsh/_<%= metadata.binaryName %>"
  end

  test do
    system "#{bin}/<%= metadata.binaryName %>", "--version"
  end
end
